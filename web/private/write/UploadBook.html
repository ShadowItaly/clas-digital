<!doctype html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!--<link rel="stylesheet" href="style.css">-->
    <title>Upload book - clas digital</title>

    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css" integrity="sha384-WskhaSGFgHYWDcbwN70/dfYBj47jz9qbsMId/iRN3ewGhXQFZCSftd1LZCfmhktB" crossorigin="anonymous">
    <link href="/topnav.css" rel="stylesheet" type="text/css">
    <link href="UploadBook.css" rel="stylesheet">

	<link rel=”canonical” href=”https://www.clas-digital.uni-frankfurt.de/private/write/UploadBook.html” />

    <script src="/user.js"></script>
    <script src="UploadBook.js"></script>

</head>
<body>
    <!-- The navigation bar config -->
    <div id='tpnav' class="topnav">
	<a id='homelink' href='/information/'>Information</a>
	<a id='searchlink' href='/search'>Search</a>
	<a id='administrationlink' class='classifiedContent' href='/private/admin/Administration.html' data-acc=4>Administration</a>
	<a id='uploadbooklink' class='classifiedContent active' href='/private/write/UploadBook.html' data-acc=2>Upload Books</a>

	<div class='topnav-right-in' id='loggedintopnav'>
	    <span id='LoggedInAs'>Logged in</span>
	    <button id='logoutBut' onclick='DoLogout()'>Logout</button>
	</div>
	<div class='topnav-right-out' id='loggedouttopnav'>
	    <form id ="LoginForm" action="/login" method="post">
		<input id="EmailType" type="email" name="email" placeholder="Email" aria-label="Email" required>
		<input id="PasswordType" type="password" name="password" placeholder="Password" aria-label="Password" required>
		<input type="submit" value="Log In"/>
	    </form>
	</div>

    </div>

    <div class='biggerPageClass'>
	<h3 id='status_banner'></h3>
	<h1>Volltexte hochladen</h1>
	<input class="inputStyle" type="file" id="fileUpID" multiple/>

	<h2><span>1.</span>Wo sind die Dateien?</h2>
	<p>Die Dateien (nur .jpg und .txt hochladen!) der Staatsbibliothek müssen zuerst einmal auf den Projekt-Server gelangen. Lade sie von der Bibliothek auf deinen PC und nutze das Feld unten, um sie wieder auszuwählen. Sie werden dann auf den Projekt-Server übertragen.</p>
	<p><strong>Wichtig:</strong> Schließe diesen Tab nicht, während der Upload läuft!</p>
	<h3>Zum Format der Dateien</h3>
	<p>Jede Bilddatei muss in diesem Format benannt sein: page$NUMBER$.jpg NUMBER bezieht sich hier auf die Seitennummer im Buch. Die OCRs muessen zur Seitentrennung dieses Format verwenden ----- $PAGENUMBER$ / $MAXPAGENUMBER$ -----\n. Es wurden nur Dateien im JPG,PNG und TXT Format angenommen. Falls das Buch von der BSB stammen sollte muss man sich darum keine Sorgen machen, die formatieren ihre Buecher bereits in diesem Format.</p>
	<ul class="list-group" id="CurrentUploads">
	</ul>
	<ul id="FileDropList" class="filesList">
	    <li onclick='document.getElementById("fileUpID").click()'>Hier klicken um eine Datei auszuwaehlen</li>
	</ul>
	<br>
	<h2><span>2.</span>Ist alles korrekt?</h2>
	<div aria-label="Vorhandene Scans" class="pagesRange">Noch keine Scans hochgeladen</div>
	<div aria-label="Durchsuchbarer Text?" class="hasText">Nein, es wurde kein durchsuchbarer Text hochgeladen</div>

	<br>
	<h2><span>3.</span>Welches Werk ist das?</h2>
	<p>Fuege noch den Link zu Zotero ein um das Item spaeter immer korrekt zuordnen zu koennen:</p>
	<input id="Permalink" class="description" type="text" placeholder="Permalink hier einfügen" oninput="ShowBookContentLink();">
	<div id="BookContentLink" style='display:inline-block;margin-left: 2rem;'></div>
	</input>
	<br>
	<h2><span>4.</span>Ocr Options</h2>
	<p>Es ist moeglich eine OCR vom Server erstellen zu lassen. Um diese Option zu benutzen setzten sie bitte ein Haekchen in der Checkbox unten. <b>Dieser Vorgang dauert sehr lange benuzten Sie diese Funktion nur wenn sie wenige Dateien hochladen!</b></p>
	<div>
	    <span>Der Server soll eine computergenerierte OCR erstellen: </span>
	    <input id='languageoptenabled' onclick='show_language(this);' type='checkbox'/>
	    <select id='languageopt' style='display: none;margin-left: 2rem;'>
		<option value='deu_frak' selected>Deutsch Fraktur</option>
		<option value='deu'>Deutsch</option>
		<option value='eng'>Englisch</option>
	    </select>
	</div>
	<h2><span>5.</span>Speichern!</h2>
	<div class="saver" id="saver">
	    <p>Speichere diesen Volltext auf dem Projektserver!</p>
	    <button id="SaveNow" class="saveButton" onclick="UploadAll();return true;">Speichern!</button>
	</div>
    </div>
    <div id="modal" style="display: none;position: fixed; top: 10vh;left: 10vw; width: 80vw; padding: 1rem; height: 80vh; z-index: 3;background:grey;">
	<div style='display: grid; grid-template-columns: 48% 48%;grid-template-rows: 2.5rem calc(100% - 5rem) 2.5rem;height:100%;width:100%;grid-column-gap: 2%;'>
	    <p style="grid-column: 1 /span 1;grid-row: 1 /span 1;margin:auto;background:white;">Old File</p>
	    <p style="grid-column: 2 /span 1;grid-row: 1 /span 1;margin:auto;background:white;">New File</p>
	    <div id="oldfile" style="grid-column: 1 /span 1;grid-row: 2 /span 1;width: 100%;height:100%;margin:auto;overflow: auto;"></div>
	    <div id="newfile" style="grid-column: 2 /span 1;grid-row: 2 /span 1;width: 100%;height:100%;margin:auto;overflow: auto;"></div>
	    <button id="nobut" style="grid-column: 1 /span 1;grid-row: 3 /span 1;background-color: green;cursor:pointer;">Keep existing</button>
	    <button id="yesbut" style="grid-column: 2 /span 1;grid-row: 3 /span 1;background-color: red;cursor: pointer;">Replace existing</button>
	</div>
    </div>
</body>
